service: flask-serverless-lambda

provider:
  name: aws
  runtime: python3.13
  region: ${env:AWS_REGION}
  memorySize: 128
  environment:
    API_KEY: ${env:API_KEY}
plugins:
- serverless-python-requirements
- serverless-wsgi
package:
  exclude:
  - node_modules/**
  - tests/**
  - .gitignore
  - .github/
  - requirements-lint.txt
  include:
  - api/templates/**
  - api/static/**
custom:
  wsgi:
    app: api.app.app
    pythonRequirements:
      dockerizePip: true
functions:
  app:
    handler: wsgi_handler.handler
    environment:
      FLASK_DEBUG: 0
    events:
    - http: ANY /
    - http: 'ANY {proxy+}'
